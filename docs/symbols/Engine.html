<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="generator" content="JsDoc Toolkit" />
    
    <title>JsDoc Reference - Engine</title>
    <link href="/stylesheets/docs.css" type="text/css" rel="stylesheet" media="all" />
  </head>

  <body>
    <div class="index">
      <div class="menu">
        <!-- begin publish.classesIndex -->
        <h2 class="heading1">Classes</h2>

<ul class="classList">
  
    <li><a href="../symbols/_global_.html">_global_</a></li>
  
    <li><a href="../symbols/Array.html">Array</a></li>
  
    <li><a href="../symbols/Bindable.html">Bindable</a></li>
  
    <li><a href="../symbols/Boolean.html">Boolean</a></li>
  
    <li><a href="../symbols/Bounded.html">Bounded</a></li>
  
    <li><a href="../symbols/Collision.html">Collision</a></li>
  
    <li><a href="../symbols/Core.html">Core</a></li>
  
    <li><a href="../symbols/Date.html">Date</a></li>
  
    <li><a href="../symbols/Drawable.html">Drawable</a></li>
  
    <li><a href="../symbols/Durable.html">Durable</a></li>
  
    <li><a href="../symbols/Engine.html">Engine</a></li>
  
    <li><a href="../symbols/Function.html">Function</a></li>
  
    <li><a href="../symbols/GameObject.html">GameObject</a></li>
  
    <li><a href="../symbols/Logging.html">Logging</a></li>
  
    <li><a href="../symbols/Math.html">Math</a></li>
  
    <li><a href="../symbols/Matrix.html">Matrix</a></li>
  
    <li><a href="../symbols/Movable.html">Movable</a></li>
  
    <li><a href="../symbols/Number.html">Number</a></li>
  
    <li><a href="../symbols/Object.html">Object</a></li>
  
    <li><a href="../symbols/Point.html">Point</a></li>
  
    <li><a href="../symbols/Random.html">Random</a></li>
  
    <li><a href="../symbols/RegExp.html">RegExp</a></li>
  
    <li><a href="../symbols/ResourceLoader.html">ResourceLoader</a></li>
  
    <li><a href="../symbols/Rotatable.html">Rotatable</a></li>
  
    <li><a href="../symbols/Sprite.html">Sprite</a></li>
  
    <li><a href="../symbols/String.html">String</a></li>
  
</ul>

        <!-- end publish.classesIndex -->
      </div>
    </div>

    <div class="content">
      <div class="innerContent">
        <h1 class="classTitle">
          
          <span>Engine</span>
        </h1>

        <p class="description summary">
          

          

          
        </p>

        
          <div class="props">
            <table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class Engine.">
              <caption>Class Summary</caption>
              <tbody>
                <tr>
                  <td class="nameDescription" >
                    <div class="fixedFont">
                      <b><a href="../symbols/Engine.html#constructor">Engine</a></b>(I)
                    </div>
                    <div class="description">The Engine controls the game world and manages game state.</div>
                  </td>
                </tr>
                <tr>
                  <td class="instanceVariables">&nbsp;</td>
                </tr>
              </tbody>
            </table>
          </div>
        

        
          
          
            <div class="props">
              <table class="summaryTable" cellspacing="0" summary="A summary of the fields documented in the class Engine.">
                <caption>Field Summary</caption>

                <tbody>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont">
                        Engine.<b><a href="../symbols/Engine.html#.Collision">Collision</a></b>
                          <span class='lighter'>
                          <em>static</em>
                          </span>
                        </div>
                        <div class="description">The <code>Collision</code> module provides some simple collision detection methods to engine.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont">
                        Engine.<b><a href="../symbols/Engine.html#.SaveState">SaveState</a></b>
                          <span class='lighter'>
                          <em>static</em>
                          </span>
                        </div>
                        <div class="description">The <code>SaveState</code> module provides methods to save and restore the current engine state.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont">
                        Engine.<b><a href="../symbols/Engine.html#.Selector">Selector</a></b>
                          <span class='lighter'>
                          <em>static</em>
                          </span>
                        </div>
                        <div class="description">The <code>Selector</code> module provides methods to query the engine to find game objects.</div>
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>
          

          
        

  <!--
  #### METHODS SUMMARY
  -->
        
          
          
            <div class="props">
              <table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class Engine.">
                <caption>Method Summary</caption>

                <tbody>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#add">add</a></b>(entityData)
                        </div>
                        <div class="description">The add method creates and adds an object to the game world.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#collides">collides</a></b>(bounds, sourceObject)
                        </div>
                        <div class="description">Detects collisions between a bounds and the game objects.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#collidesWith">collidesWith</a></b>(bounds, sourceObject)
                        </div>
                        <div class="description">Detects collisions between a bounds and the game objects.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#find">find</a></b>(selector)
                        </div>
                        <div class="description">Get a selection of GameObjects that match the specified selector criteria.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#frameAdvance">frameAdvance</a></b>()
                        </div>
                        <div class="description">Pause the game and step through 1 update of the engine.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#loadState">loadState</a></b>(newState)
                        </div>
                        <div class="description">Loads the game state passed in, or the last saved state, if any.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#pause">pause</a></b>()
                        </div>
                        <div class="description">Pause the simulation.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#paused">paused</a></b>()
                        </div>
                        <div class="description">Query the engine to see if it is paused.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#play">play</a></b>()
                        </div>
                        <div class="description">Resume the game.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#rayCollides">rayCollides</a></b>(source, direction, sourceObject)
                        </div>
                        <div class="description">Detects collisions between a ray and the game objects.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#reload">reload</a></b>()
                        </div>
                        <div class="description">Reloads the current engine state, useful for hotswapping code.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#saveState">saveState</a></b>()
                        </div>
                        <div class="description">Save the current game state and returns a JSON object representing that state.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#setFramerate">setFramerate</a></b>()
                        </div>
                        <div class="description">Change the framerate of the game.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#start">start</a></b>()
                        </div>
                        <div class="description">Start the game simulation.</div>
                      </td>
                    </tr>
                  
                    <tr>
                      <td class="nameDescription">
                        <div class="fixedFont"><b><a href="../symbols/Engine.html#stop">stop</a></b>()
                        </div>
                        <div class="description">Stop the simulation.</div>
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>
          

          
        

  <!--
  #### EVENTS SUMMARY
  -->
        
          
          
          <div class="props">
            <table class="summaryTable" cellspacing="0" summary="A summary of the events documented in the class Engine.">
              <caption>Event Summary</caption>

              <tbody>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:afterAdd">afterAdd</a></b>(object)
                      </div>
                      <div class="description">Observe or configure a <code>gameObject</code> that has been added 
  to the engine.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:afterUpdate">afterUpdate</a></b>()
                      </div>
                      <div class="description">Called after the engine completes an update.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:beforeAdd">beforeAdd</a></b>(entityData)
                      </div>
                      <div class="description">Observe or modify the 
  entity data before it is added to the engine.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:beforeDraw">beforeDraw</a></b>()
                      </div>
                      <div class="description">Called before the engine draws the game objects on the canvas.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:draw">draw</a></b>()
                      </div>
                      <div class="description">Called after the engine draws on the canvas.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:overlay">overlay</a></b>()
                      </div>
                      <div class="description">Called after the engine draws.</div>
                    </td>
                  </tr>
                
                  <tr>
                    <td class="nameDescription">
                      <div class="fixedFont"><b><a href="../symbols/Engine.html#event:update">update</a></b>()
                      </div>
                      <div class="description">Called when the engine updates all the game objects.</div>
                    </td>
                  </tr>
                
              </tbody>
            </table>
          </div>
          

          
        

  <!--
  #### CONSTRUCTOR DETAILS
  -->
        
          <div class="details props">
            <div class="innerProps">
              <a name="constructor"></a>

              <div class="fixedFont">
                <b>Engine</b>(I)
              </div>

              <div class="description">
                The Engine controls the game world and manages game state. Once you 
  set it up and let it run it pretty much takes care of itself.

  You can use the engine to add or remove objects from the game world.

  There are several modules that can include to add additional capabilities 
  to the engine.

  The engine fires events that you  may bind listeners to. Event listeners 
  may be bound with <code>engine.bind(eventName, callback)</code>
                
              </div>

              

              
                <dl class="detailList params">
                  <dt class="heading">Parameters:</dt>
                  
                    <dt>
                      <b>I</b><span class='light fixedFont'> <a href="../symbols/Object.html">Object</a></span> 
                      
                    </dt>
                    <dd>Instance variables of the engine</dd>
                  
                </dl>
              

              
            </div>
          </div>
        

  <!--
  #### FIELD DETAILS
  -->
        
          <div class="details props">
            <div class="innerProps">
              
                <div class="fixedFont heading">
                  <a name=".Collision"></a>
                  

                  <span class="light">Engine.</span><b>Collision</b>
                  <span class='lighter'>
                  <em>static</em>
                  </span>
                </div>

                <div class="description">
                  The <code>Collision</code> module provides some simple collision detection methods to engine.

                  
                </div>

                

                
              
                <div class="fixedFont heading">
                  <a name=".SaveState"></a>
                  

                  <span class="light">Engine.</span><b>SaveState</b>
                  <span class='lighter'>
                  <em>static</em>
                  </span>
                </div>

                <div class="description">
                  The <code>SaveState</code> module provides methods to save and restore the current engine state.

                  
                </div>

                

                
              
                <div class="fixedFont heading">
                  <a name=".Selector"></a>
                  

                  <span class="light">Engine.</span><b>Selector</b>
                  <span class='lighter'>
                  <em>static</em>
                  </span>
                </div>

                <div class="description">
                  The <code>Selector</code> module provides methods to query the engine to find game objects.

                  
                </div>

                

                
              
            </div>
          </div>
        

  <!--
  #### METHOD DETAILS
  -->
        
          <div class="details props">
            <div class="innerProps">
              
                <div class="fixedFont heading">
                  <a name="add"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>add</b>(entityData)
                </div>

                <div class="description">
                  The add method creates and adds an object to the game world. Two
      other events are triggered around this one: beforeAdd and afterAdd.

      <code><pre>
      # you can add arbitrary entityData and
      # the engine will make it into a GameObject
      engine.add 
        x: 50
        y: 30
        color: "red"

      player = engine.add
        class: "Player"
      </pre></code>

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>entityData</b><span class='light fixedFont'> <a href="../symbols/Object.html">Object</a></span> 
                        
                      </dt>
                      <dd>The data used to create the game object.</dd>
                    
                  </dl>
                

                
                  <dl class="detailList nomargin">

                    

                    

                    

                    
                      
                        <dt class="heading">Returns <span class="light fixedFont"><a href="../symbols/GameObject.html">GameObject</a></span> :</dt>
                        <dd></dd>
                      
                    

                    

                    

                  </dl>
                
              
                <div class="fixedFont heading">
                  <a name="collides"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>collides</b>(bounds, sourceObject)
                </div>

                <div class="description">
                  Detects collisions between a bounds and the game objects.

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>bounds</b>
                        
                      </dt>
                      <dd>The bounds to check collisions with.</dd>
                    
                      <dt>
                        <b>sourceObject</b>
                        <i>Optional</i>
                      </dt>
                      <dd>An object to exclude from the results.</dd>
                    
                  </dl>
                

                
                  <dl class="detailList nomargin">

                    

                    

                    

                    
                      
                        <dt class="heading">Returns <span class="light fixedFont"><a href="../symbols/Boolean.html">Boolean</a></span> :</dt>
                        <dd>true if the bounds object collides with any of the game objects, false otherwise.</dd>
                      
                    

                    

                    

                  </dl>
                
              
                <div class="fixedFont heading">
                  <a name="collidesWith"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>collidesWith</b>(bounds, sourceObject)
                </div>

                <div class="description">
                  Detects collisions between a bounds and the game objects. 
    Returns an array of objects colliding with the bounds provided.

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>bounds</b>
                        
                      </dt>
                      <dd>The bounds to check collisions with.</dd>
                    
                      <dt>
                        <b>sourceObject</b>
                        <i>Optional</i>
                      </dt>
                      <dd>An object to exclude from the results.</dd>
                    
                  </dl>
                

                
                  <dl class="detailList nomargin">

                    

                    

                    

                    
                      
                        <dt class="heading">Returns <span class="light fixedFont"><a href="../symbols/Array.html">Array</a></span> :</dt>
                        <dd>An array of objects that collide with the given bounds.</dd>
                      
                    

                    

                    

                  </dl>
                
              
                <div class="fixedFont heading">
                  <a name="find"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>find</b>(selector)
                </div>

                <div class="description">
                  Get a selection of GameObjects that match the specified selector criteria. The selector language
    can select objects by id, class, or attributes. Note that this method always returns an Array,
    so if you are trying to find only one object you will need something like <code>engine.find("Enemy").first()</code>.

    <code><pre>
    player = engine.add
      class: "Player"

    enemy = engine.add
      class: "Enemy"
      speed: 5
      x: 0

    distantEnemy = engine.add
      class "Enemy"
      x: 500

    boss = engine.add
      class: "Enemy"
      id: "Boss"
      x: 0

    # to select an object by id use "#anId"
    engine.find "#Boss"
    # => [boss]

    # to select an object by class use "MyClass"
    engine.find "Enemy"
    # => [enemy, distantEnemy, boss]

    # to select an object by properties use ".someProperty" or ".someProperty=someValue"
    engine.find ".speed=5"
    # => [enemy]

    # You may mix and match selectors.
    engine.find "Enemy.x=0"
    # => [enemy, boss] # doesn't return distantEnemy
    </pre></code>

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>selector</b><span class='light fixedFont'> <a href="../symbols/String.html">String</a></span> 
                        
                      </dt>
                      <dd></dd>
                    
                  </dl>
                

                
                  <dl class="detailList nomargin">

                    

                    

                    

                    
                      
                        <dt class="heading">Returns <span class="light fixedFont"><a href="../symbols/Array.html">Array</a></span> :</dt>
                        <dd>An array of the objects found</dd>
                      
                    

                    

                    

                  </dl>
                
              
                <div class="fixedFont heading">
                  <a name="frameAdvance"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>frameAdvance</b>()
                </div>

                <div class="description">
                  Pause the game and step through 1 update of the engine.

      <code><pre>
      engine.frameAdvance()
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="loadState"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>loadState</b>(newState)
                </div>

                <div class="description">
                  Loads the game state passed in, or the last saved state, if any.

    <code><pre>
    engine.bind 'step', ->
      if justPressed.l
        # loads the last saved state
        engine.loadState()

      if justPressed.o
        # removes all game objects, then reinstantiates 
        # them with the entityData passed in
        engine.loadState([{x: 40, y: 50, class: "Player"}, {x: 0, y: 0, class: "Enemy"}, {x: 500, y: 400, class: "Boss"}])
    </pre></code>

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>newState</b>
                        <i>Optional</i>
                      </dt>
                      <dd>The game state to load.</dd>
                    
                  </dl>
                

                
              
                <div class="fixedFont heading">
                  <a name="pause"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>pause</b>()
                </div>

                <div class="description">
                  Pause the simulation.

      <code><pre>
      engine.pause()
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="paused"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>paused</b>()
                </div>

                <div class="description">
                  Query the engine to see if it is paused.

      <code><pre>
         engine.pause()

         engine.paused()
      => true

         engine.play()

         engine.paused()
      => false
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="play"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>play</b>()
                </div>

                <div class="description">
                  Resume the game.

      <code><pre>
      engine.play()
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="rayCollides"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>rayCollides</b>(source, direction, sourceObject)
                </div>

                <div class="description">
                  Detects collisions between a ray and the game objects.

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>source</b>
                        
                      </dt>
                      <dd>The origin point</dd>
                    
                      <dt>
                        <b>direction</b>
                        
                      </dt>
                      <dd>A point representing the direction of the ray</dd>
                    
                      <dt>
                        <b>sourceObject</b>
                        <i>Optional</i>
                      </dt>
                      <dd>An object to exclude from the results.</dd>
                    
                  </dl>
                

                
              
                <div class="fixedFont heading">
                  <a name="reload"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>reload</b>()
                </div>

                <div class="description">
                  Reloads the current engine state, useful for hotswapping code.

    <code><pre>
    engine.I.objects.each (object) ->
      # bring all objects to (0, 0) for some reason
      object.I.x = 0
      object.I.y = 0

    # reload all objects to make sure
    # they are at (0, 0)  
    engine.reload()
    </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="saveState"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>saveState</b>()
                </div>

                <div class="description">
                  Save the current game state and returns a JSON object representing that state.

    <code><pre>
    engine.bind 'step', ->
      if justPressed.s
        engine.saveState()
    </pre></code>

                  
                </div>

                

                

                
                  <dl class="detailList nomargin">

                    

                    

                    

                    
                      
                        <dt class="heading">Returns <span class="light fixedFont"><a href="../symbols/Array.html">Array</a></span> :</dt>
                        <dd>An array of the instance data of all objects in the game</dd>
                      
                    

                    

                    

                  </dl>
                
              
                <div class="fixedFont heading">
                  <a name="setFramerate"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>setFramerate</b>()
                </div>

                <div class="description">
                  Change the framerate of the game. The default framerate is 30 fps.

      <code><pre>
      engine.setFramerate(60)
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="start"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>start</b>()
                </div>

                <div class="description">
                  Start the game simulation.

      <code><pre>
      engine.start()
      </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="stop"></a>
                  <span class='lighter'>
                  
                  </span>

                  <b>stop</b>()
                </div>

                <div class="description">
                  Stop the simulation.

      <code><pre>
      engine.stop()
      </pre></code>

                  
                </div>

                

                

                
              
            </div>
          </div>
        

  <!--
  #### EVENT DETAILS
  -->
        
          <div class="details props">
            <div class="innerProps">
              
                <div class="fixedFont heading">
                  <a name="event:afterAdd"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>afterAdd</b>(object)
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Observe or configure a <code>gameObject</code> that has been added 
  to the engine.

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>object</b><span class='light fixedFont'> <a href="../symbols/GameObject.html">GameObject</a></span> 
                        
                      </dt>
                      <dd>The object that has just been added to the
  engine.</dd>
                    
                  </dl>
                

                
              
                <div class="fixedFont heading">
                  <a name="event:afterUpdate"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>afterUpdate</b>()
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Called after the engine completes an update. Here it is 
  safe to modify the game objects array.

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="event:beforeAdd"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>beforeAdd</b>(entityData)
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Observe or modify the 
  entity data before it is added to the engine.

                  
                </div>

                

                
                  <dl class="detailList params">
                    <dt class="heading">Parameters:</dt>
                    
                      <dt>
                        <b>entityData</b><span class='light fixedFont'> <a href="../symbols/Object.html">Object</a></span> 
                        
                      </dt>
                      <dd></dd>
                    
                  </dl>
                

                
              
                <div class="fixedFont heading">
                  <a name="event:beforeDraw"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>beforeDraw</b>()
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Called before the engine draws the game objects on the canvas. The current camera transform is applied.

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="event:draw"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>draw</b>()
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Called after the engine draws on the canvas. The current camera transform is applied.

  <code><pre>
  engine.bind "draw", (canvas) ->
    # print some directions for the player
    canvas.fillText("Go this way =>", 200, 200) 
  </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="event:overlay"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>overlay</b>()
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Called after the engine draws.

  The current camera transform is not applied. This is great for
  adding overlays.

  <code><pre>
  engine.bind "overlay", (canvas) ->
    # print the player's health. This will be
    # positioned absolutely according to the viewport.
    canvas.fillText("HEALTH:", 20, 20)
    canvas.fillText(player.health(), 50, 20)
  </pre></code>

                  
                </div>

                

                

                
              
                <div class="fixedFont heading">
                  <a name="event:update"> </a>
                  <span class='lighter'>
                  
                  </span>

                  

                  <b>update</b>()
                  <span class="lighter"><em>event</em></span>
                </div>

                <div class="description">
                  Called when the engine updates all the game objects.

                  
                </div>

                

                

                
              
            </div>
          </div>
        
      </div>
    </div>
  </body>
</html>
